"0","# Instala y carga el paquete ggplot2 si no lo tienes"
"0","# install.packages(""ggplot2"")"
"0","library(ggplot2)"
"0",""
"0","i <- 1 + i"
"0","total_estudiantes <- nrow(DF)"
"0",""
"0","DF_categorias_cafe <- data.frame("
"0","  Categoria = c(""Normal"", ""Intermedio"", ""Excesivo""),"
"0","  Frecuencia = c("
"0","    sum(DF$Tazas_por_dia >= 0 & DF$Tazas_por_dia <= 3, na.rm = TRUE),"
"0","    sum(DF$Tazas_por_dia >= 4 & DF$Tazas_por_dia <= 8, na.rm = TRUE),"
"0","    sum(DF$Tazas_por_dia >= 9 & DF$Tazas_por_dia <= 15, na.rm = TRUE)"
"0","  )"
"0",")"
"0",""
"0","# Calcula las probabilidades"
"0","DF_categorias_cafe$Probabilidad <- DF_categorias_cafe$Frecuencia / total_estudiantes"
"0",""
"0","# Crea el gráfico de barras utilizando ggplot2"
"0","ggplot(DF_categorias_cafe, aes(x = Categoria, y = Probabilidad)) +"
"0","  geom_bar(stat = ""identity"", fill = ""lightgreen"") +"
"0","  geom_text(aes(label = round(Probabilidad, 2)), vjust = -0.5, size = 5) +"
"0","  labs("
"0","    title = paste(""Gráfico 4.1."", i),"
"0","    x = ""Categoría de consumo"","
"0","    y = ""Probabilidad"""
"0","  ) +"
"0","  ylim(0, max(DF_categorias_cafe$Probabilidad) + 0.1)"
